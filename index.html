<!DOCTYPE html>
<html>
	<head>
		<script src="./jquery-3.4.1.slim.min.js" ></script>
		<script type="text/javascript" src="./sliders.js" defer></script>
		<script type="text/javascript" src="./register.js"></script>
		<script type="text/javascript" src="./login.js"></script>
		<script type="text/javascript" src="./settings.js"></script>
		<script type="text/javascript" src="./app.js"></script>
		<script type="text/javascript" src="./aboutModal.js"></script>
		<script type="text/javascript" src="./monsters.js"></script>
		<script type="text/javascript" src="./bonusStrawberry.js"></script>
		<link rel="stylesheet" type="text/css" href="styles.css" />
		<link rel="stylesheet" type="text/css" href="grid.css" />
		<title>Best Pacman Game Ever</title>
	</head>

	<body>
		<div class="mainBody">
			<div class="row header">
				<ul class= "main-nav">
					<li><a onclick="menuClickShow(welcome)" href="#">Main Menu</a></li>
					<li><a onclick="menuClickShow(settings)" href="#">Settings</a></li>
					<li><a onclick="openModalDialog(),closeModalDialog();" href="#">About</a></li>
					<li><a onclick="logOut()" href="#">Log out</a></li>
				</ul>
				<p style="margin: 30px" id="helloUsername">Hello, Guest</p>
			</div>
			<!-- </nav> -->

			<div id="aboutModal" class="modal"  style="display: none">
				<div class="modal-content">
					<span class="close" title="Close Modal">&times;</span>
					<p align="center"><b>Pac-Man Game created by:<br>
					Noaa Kless and Amit Ostrov</b></p><br>
					<p>The main difficulty in this assignment was learning JavaScript which is a new language for us.</p>
					<p>We did not use any templates, and we used jQuery plugin in several cases:</p>
					<p>1.	to check the validation of registration</p>
					<p>2.	to open and close this model dialog</p><br>
					<p><b>Hope you enjoyed our game!</b></p>
				</div>
			</div>
			
			<div id="welcome" style="display: block" align=center>
				<div class="logo">
					<img src="pics/logo.png" width="897.6" height="214.4">
				</div>
				<div class="gif">
					<img src="pics/gif.gif">
				</div>
				<div class="menuButtons">
					<button class="menuBut" onclick="show(welcome, login)">Login</button>
					<button class="menuBut" onclick="show(welcome, register)">Register</button>
				</div>
				<!-- <button id="playBtn" class="menuBut" display="none" onclick="show(welcome, app)">play</button> -->
			</div>

			<div id="register" style="display: none" align=center>
				<h1>signup and start<br> playing!</h1>
				<form id="registerForm">
					<div class="registerInputs">
						<label>Username</label>
						<input type="text" id="Username" placeholder="Enter Username" required><br>
						<label>Password</label>
						<input type="password" id="Password" placeholder="Enter Password" required><br>
						<label>FullName</label>
						<input type="text" id="FullName" placeholder="Enter Full Name" required><br>
						<label>Email</label>
						<input type="text" id="Email" placeholder="Enter Email" required><br>
						<label for="birthday">Birthday:</label>
						<input type="date" id="Birthday" required>
					</div>
					<div class="registerButtons">
						<button type="button" onclick="submitDetails()" value="submit">Submit</button>
						<button type="button" onclick="show(register, welcome)" value="submit">Cancel</button>
					</div>
				</form>
				<p id="submitionError"></p>
			</div>

			<div id="login" style="display: none" align=center>
				<h1>login and start<br> playing!</h1>
				<form id="loginForm">
					<div class="loginInputs">
						<label>username</label>
						<input type="text" id="username" placeholder="Username" required><br>
						<label>password</label>
						<input type="password" id="password" placeholder="password" required><br>
					</div>
					<div class="loginButtons">
						<button class="formButton" type="button" onclick="logIn()">Log In</button>
						<button class="formButton" type="button" onclick="show(login, welcome)">Cancel</button>
					</div>
				</form> 
				<p id="loginError"></p>	
			</div>
				

			<div id="settings" style="display: none" align=center>
				<h1 class="settingTitle">game settings</h1>

				<div class="keyS setting">
					<h2>set keys</h2>
					<div class="keyForm">
						<label>&#x2190;</label>
						<input type="text" id="keyLeft" placeholder="left" onkeydown="setKey('left', event)" maxlength="1"><br>
						<label>&#x2191;</label>
						<input type="text" id="keyUp" placeholder="up" onkeydown="setKey('up', event)" maxlength="1"><br>
						<label>&#x2192;</label>
						<input type="text" id="keyRight" placeholder="right" onkeydown="setKey('right', event)" maxlength="1"><br>
						<label>&#x2193;</label>
						<input type="text" id="keysDown" placeholder="down" onkeydown="setKey('down', event)" maxlength="1"><br>
					</div>
				</div>
				
				<div class="numBallS setting">
					<h2>set number of balls</h2>
					<div class="slidecontainer">
						- <input type="range" min="50" max="90" value="70" class="slider" id="setBallsNumSlider" onchange="setBallsNum(value)"> + 
						<p><span id="numOfBalls"></span> Balls</p>
					</div>
				</div>

				
				<div class="colorS setting">
					<h2>set balls color</h2>
					<div>
						<input type="color" id="ball5Points" value="#FF5C00" onchange="setballsColor(5, value)">
						<label for="head">5 points ball color</label>
					</div>
					<div>
						<input type="color" id="ball15Points" value="#FE99D6" onchange="setballsColor(15, value)">
						<label for="head">15 points ball color</label>
					</div>
					<div>
						<input type="color" id="ball25Points" value="#77C3EC" onchange="setballsColor(25, value)">
						<label for="head">25 points ball color</label>
					</div>
				</div>

				
				<div class="timeS setting">
					<h2>set game time</h2>
					<div class="slidecontainer">
						- <input type="range" min="60" max="300" value="150" class="slider" id="setGameTime" onchange="setgameTime(value)"> + 
						<p><span id="seconds"></span> sec</p>
					</div>
				</div>

				
				<div class="numMonsterS setting">
					<h2>set amount of monsters</h2>
					<form>
						<input type="radio" id="monster1" name="monsters" value="1" onclick="setNumOfMonsters(value)" checked>
						<label for="male">1 monsters</label><br>
						<input type="radio" id="monster2" name="monsters" value="2" onclick="setNumOfMonsters(value)">
						<label for="female">2 monsters</label><br>
						<input type="radio" id="monster3" name="monsters" value="3" onclick="setNumOfMonsters(value)">
						<label for="other">3 monsters</label><br>
						<input type="radio" id="monster4" name="monsters" value="4" onclick="setNumOfMonsters(value)">
						<label for="other">4 monsters</label><br>
					</form>	
				</div>	
				<br><br><br>
				<button class="playButton" type="button" onclick="play()">play</button>
				<button class="settingButton" type="button" onclick="setRandomSettings()">random play</button>
				<!-- <button class="playButton" type="button" onclick="show(settings, app)">play</button> -->
			</div>

			<div id="app" style="display: none" >
				<div class="appContainer">
					<div class="sidebar" style="float: right">
						<!-- <br><br><br> -->
						<div class="scoreBoard">
							<div id="score board">
								<label for="lblScore">SCORE:</label>
								<input id="lblScore" type="text" />
							</div>
							<div id="time board">
								<label for="lblTime">TIME:</label>
								<input id="lblTime" type="text" />
							</div>
							<div id="life board">
								<label for="lblLife">LIFE:</label>
								<input id="lblLife" type="text"/>
							</div>
						</div>
						<div class="keysSettings side">
							<h2>KEYS:</h2>
							<p id="keyLeftShow">&#x2190;         left arrow</p>
							<p id="keyUpShow"> &#x2191;         up arrow</p>
							<p id="keyRightShow"> &#x2192;         right arrow</p>
							<p id="keyDownShow">&#x2193;         down arrow</p>
						</div>
						<div class="ballsSettings side">
							<h2>NUM OF BALLS:</h2>
							<p id="numOfBallsShow">70</p>
						</div>
						<div class="ballsColorSettings side">
							<h2>BALLS SCORE:</h2>
							<div>
								<input type="color" id="ball5PointsShow" value="#FF5C00">
								<label for="head">5 points ball color</label>
							</div>
							<div>
								<input type="color" id="ball15PointsShow" value="#FE99D6">
								<label for="head">15 points ball color</label>
							</div>
							<div>
								<input type="color" id="ball25PointsShow" value="#f6b73c">
								<label for="head">25 points ball color</label>
							</div>
						</div>
						<div class="timeSettings side">
							<h2>TOTAL TIME:</h2>
							<p id="timeShow">150</p>
						</div>
						<div class="numOfMonstersSettings side">
							<h2>NUM OF MONSTERS:</h2>
							<p id="numOfMonstersShow">1</p>
						</div>
						<button style="width: 30%" class="newGameBtn" onclick="StartNewGame()">New Game</button>
						<!-- <br><br><br> -->
					</div>
					<div class="game">
						<canvas id="canvas" height="780" width="780"></canvas>
					</div>
				</div>
			</div>
		</div>
		<footer>
			<p align=center>
				Hello Pac-Man, Welcome to our game!<br>
				What you need to do is to eat the coins placed in the board while avoiding the ghosts that wants to catch you. You will win the game when you eat all the coins!
				You have 5 lives, but every time<br>a ghost reaches you- you will lose one of them. The game ends when the time is up or when all lives are lost. When the time is up, if you are still alive with at least 100 points you will win as well.<br>
				GOOD LUCK!
			</p>
			<p>Authors:<br>
				Noaa Kless
				<a href="mailto:noaakless@gmail.com">noaakless@gmail.com</a><br>
				Amit Ostrov
				<a href="mailto:ostrovamit@gmail.com">ostrovamit@gmail.com</a>
			</p>
		</footer>
	</body>

	<script>
		var activScreen = welcome;

		function show(toHide, toShow) {
			toHide.style.display="none"
			if(toShow==app){
				toShow.style.display="inline";
			}
			else{
				toShow.style.display="block"
			}
			activScreen = toShow;

			
		}
		function menuClickShow(pressedOption){
			if (activScreen == welcome && pressedOption == settings) {
				if (loggedIn == false) {
					alert("Please log in first");
				}
				else {
					activScreen = settings;
					show(welcome, settings);
				}
			}
			if (activScreen == logIn && pressedOption == settings) {
				if (loggedIn == false) {
					alert("Please log in first");
				}
				else {
					activScreen = settings;
					show(logIn, settings);
				}
			}
			if (activScreen == register && pressedOption == settings) {
				if (loggedIn == false) {
					alert("Please log in first");
				}
				else {
					activScreen = settings;
					show(register, settings);
				}
			}
			else if (activScreen == app && pressedOption == settings) {
				activScreen = settings;
				themeSong.pause();
				window.clearInterval(interval);
				window.clearInterval(intervalBonusStrawberry);
				window.clearInterval(intervalMonsters);
				reset();
				show(app, settings);
			}
			else if (activScreen == settings && pressedOption == welcome) {
				activScreen = welcome;
				show(settings, welcome);
			}
			else if (activScreen == logIn && pressedOption == welcome) {
				activScreen = welcome;
				show(login, welcome);
			}
			else if (activScreen == register && pressedOption == welcome) {
				activScreen = welcome;
				show(register, welcome);
			}
			else if (activScreen == app && pressedOption == welcome) {
				activScreen = welcome;
				themeSong.pause();
				window.clearInterval(interval);
				window.clearInterval(intervalBonusStrawberry);
				window.clearInterval(intervalMonsters);
				reset();
				show(app, welcome);
			}

		}
	</script>


</html>
